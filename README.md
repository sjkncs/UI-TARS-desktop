<!-- ===== HEADER ===== -->
<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&customColorList=6,11,20&height=250&section=header&text=UI-TARS%20Desktop&fontSize=55&fontColor=ffffff&animation=fadeIn&fontAlignY=38&desc=Multimodal%20AI%20Agent%20%E2%80%A2%20Community%20Fork%20by%20sjkncs&descAlignY=55&descSize=18" width="100%" />
</p>

<p align="center">
  <a href="https://git.io/typing-svg">
    <img src="https://readme-typing-svg.demolab.com?font=Fira+Code&weight=600&size=22&pause=1000&color=3B82F6&center=true&vCenter=true&multiline=true&repeat=true&width=700&height=60&lines=GUI+Agent+%7C+Vision-Language+Model+%7C+Desktop+Automation;Chat+System+%7C+Session+Management+%7C+Smart+Shortcuts" alt="Typing SVG" />
  </a>
</p>

<!-- ===== BADGES ===== -->
<p align="center">
  <a href="https://github.com/bytedance/UI-TARS-desktop"><img src="https://img.shields.io/badge/Upstream-bytedance%2FUI--TARS--desktop-blue?style=for-the-badge&logo=github&logoColor=white" alt="Upstream" /></a>
  <a href="https://github.com/sjkncs/UI-TARS-desktop"><img src="https://img.shields.io/badge/Fork-sjkncs%2FUI--TARS--desktop-orange?style=for-the-badge&logo=git&logoColor=white" alt="This Fork" /></a>
  <a href="./LICENSE"><img src="https://img.shields.io/badge/License-Apache%202.0-green?style=for-the-badge&logo=apache&logoColor=white" alt="License" /></a>
</p>
<p align="center">
  <img src="https://img.shields.io/github/stars/sjkncs/UI-TARS-desktop?style=social" alt="Stars" />
  <img src="https://img.shields.io/github/forks/sjkncs/UI-TARS-desktop?style=social" alt="Forks" />
  <img src="https://img.shields.io/github/watchers/sjkncs/UI-TARS-desktop?style=social" alt="Watchers" />
  <img src="https://komarev.com/ghpvc/?username=sjkncs-ui-tars&label=Profile%20Views&color=0e75b6&style=flat" alt="Profile Views" />
</p>

<!-- ===== FORK NOTICE ===== -->
<div align="center">
<table>
<tr><td>

**âš ï¸ Fork Notice / é¡¹ç›®å£°æ˜**

This repository is a **community fork** of the original [UI-TARS-desktop](https://github.com/bytedance/UI-TARS-desktop) project by **ByteDance**.
All original code, design, and intellectual property belong to ByteDance and its contributors.

| | Link |
|---|---|
| **ğŸ”— Original Project** | [github.com/bytedance/UI-TARS-desktop](https://github.com/bytedance/UI-TARS-desktop) |
| **ğŸ´ This Fork** | [github.com/sjkncs/UI-TARS-desktop](https://github.com/sjkncs/UI-TARS-desktop) |

</td></tr>
</table>
</div>

<br/>

<!-- ===== LANGUAGE SWITCH ===== -->
<p align="center">
  <strong>English</strong> | <a href="./README.zh-CN.md">ç®€ä½“ä¸­æ–‡</a>
</p>

<!-- ===== TECH STACK ===== -->
<p align="center">
  <img src="https://img.shields.io/badge/Electron-2B2E3A?style=flat-square&logo=electron&logoColor=9FEAF9" />
  <img src="https://img.shields.io/badge/React-20232A?style=flat-square&logo=react&logoColor=61DAFB" />
  <img src="https://img.shields.io/badge/TypeScript-007ACC?style=flat-square&logo=typescript&logoColor=white" />
  <img src="https://img.shields.io/badge/Tailwind_CSS-38B2AC?style=flat-square&logo=tailwind-css&logoColor=white" />
  <img src="https://img.shields.io/badge/Node.js-339933?style=flat-square&logo=node.js&logoColor=white" />
  <img src="https://img.shields.io/badge/Vite-646CFF?style=flat-square&logo=vite&logoColor=white" />
  <img src="https://img.shields.io/badge/pnpm-F69220?style=flat-square&logo=pnpm&logoColor=white" />
</p>

---

## ğŸ“– Introduction

<b>TARS<sup>*</sup></b> is a Multimodal AI Agent stack, currently shipping two projects: [Agent TARS](#-agent-tars) and [UI-TARS-desktop](#-ui-tars-desktop):

<table>
  <thead>
    <tr>
      <th width="50%" align="center"><a href="#-agent-tars">ğŸ¤– Agent TARS</a></th>
      <th width="50%" align="center"><a href="#-ui-tars-desktop">ğŸ–¥ï¸ UI-TARS-desktop</a></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">
        <video src="https://github.com/user-attachments/assets/c9489936-afdc-4d12-adda-d4b90d2a869d" width="50%"></video>
      </td>
      <td align="center">
        <video src="https://github.com/user-attachments/assets/e0914ce9-ad33-494b-bdec-0c25c1b01a27" width="50%"></video>
      </td>
    </tr>
    <tr>
      <td align="left">
        <b>Agent TARS</b> â€” A general multimodal AI Agent stack bringing GUI Agent and Vision into your terminal, computer, browser and product.
        <br><br>
        Ships with <a href="https://agent-tars.com/guide/basic/cli.html">CLI</a> and <a href="https://agent-tars.com/guide/basic/web-ui.html">Web UI</a>, integrating with <a href="https://agent-tars.com/guide/basic/mcp.html">MCP</a> tools.
      </td>
      <td align="left">
        <b>UI-TARS Desktop</b> â€” A desktop application providing native GUI Agent based on <a href="https://github.com/bytedance/UI-TARS">UI-TARS</a> model.
        <br><br>
        Ships <a href="https://github.com/bytedance/UI-TARS-desktop/blob/main/docs/quick-start.md#get-model-and-run-local-operator">local</a> and <a href="https://github.com/bytedance/UI-TARS-desktop/blob/main/docs/quick-start.md#run-remote-operator">remote</a> computer + browser operators.
      </td>
    </tr>
  </tbody>
</table>

---

## ğŸ“‘ Table of Contents

<details open>
<summary><b>Click to expand / collapse</b></summary>

- [ğŸ“– Introduction](#-introduction)
- [ğŸ“° News](#-news)
- [ğŸ¤– Agent TARS](#-agent-tars)
- [ğŸ–¥ï¸ UI-TARS Desktop](#%EF%B8%8F-ui-tars-desktop)
- [ğŸ”§ Our Modifications](#-our-modifications)
- [ğŸ™ Acknowledgments](#-acknowledgments)
- [ğŸ¤ Contributing](#-contributing)
- [ğŸ“„ License](#-license)
- [ğŸ“ Citation](#-citation)

</details>

---

## ğŸ“° News

- **\[2025-11-05\]** ğŸ‰ We're excited to announce the release of [Agent TARS CLI v0.3.0](https://github.com/bytedance/UI-TARS-desktop/releases/tag/v0.3.0)! This version brings streaming support for multiple tools (shell commands, multi-file structured display), runtime settings with timing statistics for tool calls and deep thinking, Event Stream Viewer for data flow tracking and debugging. Additionally, it features exclusive support for [AIO agent Sandbox](https://github.com/agent-infra/sandbox) as isolated all-in-one tools execution environment.
- **\[2025-06-25\]** We released a Agent TARS Beta and Agent TARS CLI - [Introducing Agent TARS Beta](https://agent-tars.com/blog/2025-06-25-introducing-agent-tars-beta.html), a multimodal AI agent that aims to explore a work form that is closer to human-like task completion through rich multimodal capabilities (such as GUI Agent, Vision) and seamless integration with various real-world tools.
- **\[2025-06-12\]** - ğŸ We are thrilled to announce the release of UI-TARS Desktop v0.2.0! This update introduces two powerful new features: **Remote Computer Operator** and **Remote Browser Operator**â€”both completely free. No configuration required: simply click to remotely control any computer or browser, and experience a new level of convenience and intelligence.
- **\[2025-04-17\]** - ğŸ‰ We're thrilled to announce the release of new UI-TARS Desktop application v0.1.0, featuring a redesigned Agent UI. The application enhances the computer using experience, introduces new browser operation features, and supports [the advanced UI-TARS-1.5 model](https://seed-tars.com/1.5) for improved performance and precise control.
- **\[2025-02-20\]** - ğŸ“¦ Introduced [UI TARS SDK](./docs/sdk.md), is a powerful cross-platform toolkit for building GUI automation agents.
- **\[2025-01-23\]** - ğŸš€ We updated the **[Cloud Deployment](./docs/deployment.md#cloud-deployment)** section in the ä¸­æ–‡ç‰ˆ: [GUIæ¨¡å‹éƒ¨ç½²æ•™ç¨‹](https://bytedance.sg.larkoffice.com/docx/TCcudYwyIox5vyxiSDLlgIsTgWf#U94rdCxzBoJMLex38NPlHL21gNb) with new information related to the ModelScope platform. You can now use the ModelScope platform for deployment.

<br>

## ğŸ¤– Agent TARS

<p>
    <a href="https://npmjs.com/package/@agent-tars/cli?activeTab=readme"><img src="https://img.shields.io/npm/v/@agent-tars/cli?style=for-the-badge&colorA=1a1a2e&colorB=3B82F6&logo=npm&logoColor=white" alt="npm version" /></a>
    <a href="https://npmcharts.com/compare/@agent-tars/cli?minimal=true"><img src="https://img.shields.io/npm/dm/@agent-tars/cli.svg?style=for-the-badge&colorA=1a1a2e&colorB=0EA5E9&logo=npm&logoColor=white" alt="downloads" /></a>
    <a href="https://nodejs.org/en/about/previous-releases"><img src="https://img.shields.io/node/v/@agent-tars/cli.svg?style=for-the-badge&colorA=1a1a2e&colorB=06B6D4&logo=node.js&logoColor=white" alt="node version"></a>
    <a href="https://discord.gg/HnKcSBgTVx"><img src="https://img.shields.io/badge/Discord-Join%20Community-5865F2?style=for-the-badge&logo=discord&logoColor=white" alt="Discord Community" /></a>
    <a href="https://twitter.com/agent_tars"><img src="https://img.shields.io/badge/Twitter-Follow%20%40agent__tars-1DA1F2?style=for-the-badge&logo=twitter&logoColor=white" alt="Official Twitter" /></a>
    <a href="https://applink.larkoffice.com/client/chat/chatter/add_by_link?link_token=deen76f4-ea3c-4964-93a3-78f126f39651"><img src="https://img.shields.io/badge/é£ä¹¦ç¾¤-åŠ å…¥äº¤æµç¾¤-00D4AA?style=for-the-badge&logo=lark&logoColor=white" alt="é£ä¹¦äº¤æµç¾¤" /></a>
    <a href="https://deepwiki.com/bytedance/UI-TARS-desktop"><img src="https://img.shields.io/badge/DeepWiki-Ask%20AI-8B5CF6?style=for-the-badge&logo=gitbook&logoColor=white" alt="Ask DeepWiki" /></a>
</p>

<b>Agent TARS</b> is a general multimodal AI Agent stack, it brings the power of GUI Agent and Vision into your terminal, computer, browser and product. <br> <br>
It primarily ships with a <a href="https://agent-tars.com/guide/basic/cli.html" target="_blank">CLI</a> and <a href="https://agent-tars.com/guide/basic/web-ui.html" target="_blank">Web UI</a> for usage.
It aims to provide a workflow that is closer to human-like task completion through cutting-edge multimodal LLMs and seamless integration with various real-world <a href="https://agent-tars.com/guide/basic/mcp.html" target="_blank">MCP</a> tools.

### Showcase

```
Please help me book the earliest flight from San Jose to New York on September 1st and the last return flight on September 6th on Priceline
```

https://github.com/user-attachments/assets/772b0eef-aef7-4ab9-8cb0-9611820539d8

<br>

<table>
  <thead>
    <tr>
      <th width="50%" align="center">Booking Hotel</th>
      <th width="50%" align="center">Generate Chart with extra MCP Servers</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">
        <video src="https://github.com/user-attachments/assets/c9489936-afdc-4d12-adda-d4b90d2a869d" width="50%"></video>
      </td>
      <td align="center">
        <video src="https://github.com/user-attachments/assets/a9fd72d0-01bb-4233-aa27-ca95194bbce9" width="50%"></video>
      </td>
    </tr>
    <tr>
      <td align="left">
        <b>Instruction:</b> <i>I am in Los Angeles from September 1st to September 6th, with a budget of $5,000. Please help me book a Ritz-Carlton hotel closest to the airport on booking.com and compile a transportation guide for me</i>
      </td>
      <td align="left">
        <b>Instruction:</b> <i>Draw me a chart of Hangzhou's weather for one month</i>
      </td>
    </tr>
  </tbody>
</table>

For more use cases, please check out [#842](https://github.com/bytedance/UI-TARS-desktop/issues/842).

### Core Features

- ğŸ–±ï¸ **One-Click Out-of-the-box CLI** - Supports both **headful** [Web UI](https://agent-tars.com/guide/basic/web-ui.html) and **headless** [server](https://agent-tars.com/guide/advanced/server.html)) [execution](https://agent-tars.com/guide/basic/cli.html).
- ğŸŒ **Hybrid Browser Agent** - Control browsers using [GUI Agent](https://agent-tars.com/guide/basic/browser.html#visual-grounding), [DOM](https://agent-tars.com/guide/basic/browser.html#dom), or a hybrid strategy.
- ğŸ”„ **Event Stream** - Protocol-driven Event Stream drives [Context Engineering](https://agent-tars.com/beta#context-engineering) and [Agent UI](https://agent-tars.com/blog/2025-06-25-introducing-agent-tars-beta.html#easy-to-build-applications).
- ğŸ§° **MCP Integration** - The kernel is built on MCP and also supports mounting [MCP Servers](https://agent-tars.com/guide/basic/mcp.html) to connect to real-world tools.

### Quick Start

<img alt="Agent TARS CLI" src="https://agent-tars.com/agent-tars-cli.png">

```bash
# Launch with `npx`.
npx @agent-tars/cli@latest

# Install globally, required Node.js >= 22
npm install @agent-tars/cli@latest -g

# Run with your preferred model provider
agent-tars --provider volcengine --model doubao-1-5-thinking-vision-pro-250428 --apiKey your-api-key
agent-tars --provider anthropic --model claude-3-7-sonnet-latest --apiKey your-api-key
```

Visit the comprehensive [Quick Start](https://agent-tars.com/guide/get-started/quick-start.html) guide for detailed setup instructions.

### Documentation

> ğŸŒŸ **Explore Agent TARS Universe** ğŸŒŸ

<table>
  <thead>
    <tr>
      <th width="20%" align="center">Category</th>
      <th width="30%" align="center">Resource Link</th>
      <th width="50%" align="left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">ğŸ  <strong>Central Hub</strong></td>
      <td align="center">
        <a href="https://agent-tars.com">
          <img src="https://img.shields.io/badge/Visit-Website-4F46E5?style=for-the-badge&logo=globe&logoColor=white" alt="Website" />
        </a>
      </td>
      <td align="left">Your gateway to Agent TARS ecosystem</td>
    </tr>
      <tr>
      <td align="center">ğŸ“š <strong>Quick Start</strong></td>
      <td align="center">
        <a href="https://agent-tars.com/guide/get-started/quick-start.html">
          <img src="https://img.shields.io/badge/Get-Started-06B6D4?style=for-the-badge&logo=rocket&logoColor=white" alt="Quick Start" />
        </a>
      </td>
      <td align="left">Zero to hero in 5 minutes</td>
    </tr>
    <tr>
      <td align="center">ğŸš€ <strong>What's New</strong></td>
      <td align="center">
        <a href="https://agent-tars.com/beta">
          <img src="https://img.shields.io/badge/Read-Blog-F59E0B?style=for-the-badge&logo=rss&logoColor=white" alt="Blog" />
        </a>
      </td>
      <td align="left">Discover cutting-edge features & vision</td>
    </tr>
    <tr>
      <td align="center">ğŸ› ï¸ <strong>Developer Zone</strong></td>
      <td align="center">
        <a href="https://agent-tars.com/guide/get-started/introduction.html">
          <img src="https://img.shields.io/badge/View-Docs-10B981?style=for-the-badge&logo=gitbook&logoColor=white" alt="Docs" />
        </a>
      </td>
      <td align="left">Master every command & features</td>
    </tr>
    <tr>
      <td align="center">ğŸ¯ <strong>Showcase</strong></td>
      <td align="center">
        <a href="https://github.com/bytedance/UI-TARS-desktop/issues/842">
          <img src="https://img.shields.io/badge/View-Examples-8B5CF6?style=for-the-badge&logo=github&logoColor=white" alt="Examples" />
        </a>
      </td>
      <td align="left">View use cases built by the official and community</td>
    </tr>
    <tr>
      <td align="center">ğŸ”§ <strong>Reference</strong></td>
      <td align="center">
        <a href="https://agent-tars.com/api/">
          <img src="https://img.shields.io/badge/API-Reference-EF4444?style=for-the-badge&logo=book&logoColor=white" alt="API" />
        </a>
      </td>
      <td align="left">Complete technical reference</td>
    </tr>
  </tbody>
</table>

<br/>
<br/>
<br/>

---

## ğŸ–¥ï¸ UI-TARS Desktop

<p align="center">
  <img alt="UI-TARS" width="260" src="./apps/ui-tars/resources/icon.png">
</p>

UI-TARS Desktop is a native GUI agent for your local computer, driven by [UI-TARS](https://github.com/bytedance/UI-TARS) and Seed-1.5-VL/1.6 series models.

<div align="center">
<p>
        &nbsp&nbsp ğŸ“‘ <a href="https://arxiv.org/abs/2501.12326">Paper</a> &nbsp&nbsp
        | ğŸ¤— <a href="https://huggingface.co/ByteDance-Seed/UI-TARS-1.5-7B">Hugging Face Models</a>&nbsp&nbsp
        | &nbsp&nbspğŸ«¨ <a href="https://discord.gg/pTXwYVjfcs">Discord</a>&nbsp&nbsp
        | &nbsp&nbspğŸ¤– <a href="https://www.modelscope.cn/collections/UI-TARS-bccb56fa1ef640">ModelScope</a>&nbsp&nbsp
<br>
ğŸ–¥ï¸ Desktop Application &nbsp&nbsp
| &nbsp&nbsp ğŸ‘“ <a href="https://github.com/web-infra-dev/midscene">Midscene (use in browser)</a> &nbsp&nbsp
</p>

</div>

### Showcase

<!-- // FIXME: Choose only two demo, one local computer and one remote computer showcase. -->

|                                                          Instruction                                                           |                                                Local Operator                                                |                                               Remote Operator                                                |
| :----------------------------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------: | :----------------------------------------------------------------------------------------------------------: |
| Please help me open the autosave feature of VS Code and delay AutoSave operations for 500 milliseconds in the VS Code setting. | <video src="https://github.com/user-attachments/assets/e0914ce9-ad33-494b-bdec-0c25c1b01a27" height="300" /> | <video src="https://github.com/user-attachments/assets/01e49b69-7070-46c8-b3e3-2aaaaec71800" height="300" /> |
|                    Could you help me check the latest open issue of the UI-TARS-Desktop project on GitHub?                     | <video src="https://github.com/user-attachments/assets/3d159f54-d24a-4268-96c0-e149607e9199" height="300" /> | <video src="https://github.com/user-attachments/assets/072fb72d-7394-4bfa-95f5-4736e29f7e58" height="300" /> |

### Features

- ğŸ¤– Natural language control powered by Vision-Language Model
- ğŸ–¥ï¸ Screenshot and visual recognition support
- ğŸ¯ Precise mouse and keyboard control
- ğŸ’» Cross-platform support (Windows/MacOS/Browser)
- ğŸ”„ Real-time feedback and status display
- ğŸ” Private and secure - fully local processing

### Quick Start

See [Quick Start](./docs/quick-start.md)

---

## ğŸ”§ Our Modifications

This fork includes the following enhancements built on top of the original project. Every change is traceable to specific files.

### ğŸ’¬ 1. Chat System (New Feature)

A complete chat page with multi-turn conversation, streaming responses, multi-mode switching, and image/document upload.

<details>
<summary><b>New files created</b></summary>

| File | Description |
|------|-------------|
| `apps/ui-tars/src/renderer/src/pages/chat/index.tsx` | Main chat page â€” message list, input box, mode selector, image & document upload, streaming display |
| `apps/ui-tars/src/renderer/src/pages/chat/message-actions.tsx` | `MessageActionBar` component below each assistant message |
| `apps/ui-tars/src/renderer/src/pages/chat/mode-config.ts` | 10+ chat mode definitions (Translation, Code, Creative Writing, etc.) with bilingual system prompts |
| `apps/ui-tars/src/renderer/src/hooks/useGlobalShortcuts.ts` | IPC listener for global shortcuts dispatched from main process |

</details>

**Key implementation details:**

- **Session persistence** â€” Messages stored to `localStorage` (key: `ui-tars-chat-<sessionId>`) and auto-restored on navigation. Sessions created in IndexedDB via `sessionManager` on first user message so they appear in the sidebar history.
- **Streaming** â€” Listens to `system:chatCompletion:chunk` IPC events for real-time token streaming.
- **Mode system** â€” Each mode injects a `system` prompt into the API call. Modes include sub-categories with quick-use templates.
- **Image upload** â€” `FileReader` â†’ base64, attached to the API request; **`imageBase64` is stripped before `localStorage` save** to prevent quota overflow (see Bug Fix #3).
- **Document analysis** â€” Uses `api['system:analyzeDocument']` with automatic VLM fallback if text extraction fails.

### ğŸ›ï¸ 2. Message Action Bar (New Feature)

A toolbar rendered below every assistant message with 8 actions:

| Action | Detail |
|--------|--------|
| **Copy** | Dropdown: "Copy as Markdown" (raw) or "Copy as Plain Text" (regex strips `#`, `**`, backticks, links) |
| **Like / Dislike** | Toggle persistent reactions stored in `localStorage` (key: `ui-tars-msg-reactions`) |
| **Regenerate** | Drops trailing assistant messages, re-sends from last user message (see Bug Fix #1) |
| **Edit as Document** | Opens content in a new browser window with a minimal rich-text editor |
| **Share** | Uses `navigator.share` API (falls back to clipboard copy) |
| **Delete** | Removes a specific message from the conversation |
| **Report** | Flags the message with a "Reported, thank you!" toast |

### âŒ¨ï¸ 3. Global Shortcuts (New Feature)

Registered in the main process (`apps/ui-tars/src/main/tray.ts`) via Electron `globalShortcut`:

| Shortcut | Action | Implementation |
|----------|--------|----------------|
| `Ctrl+Shift+T` | Show / Hide main window | Toggle visibility in main process |
| `Ctrl+Shift+N` | New Chat | Sends `shortcut:newChat` IPC â†’ renderer navigates to `/chat` with `{ newChat: true }` state, preserving existing session |
| `Ctrl+Shift+,` | Open Settings | Sends `shortcut:openSettings` IPC â†’ renderer calls `openSettings()` from Zustand store |

### âš™ï¸ 4. Optimization Settings (New Feature)

A settings panel (`apps/ui-tars/src/renderer/src/components/Settings/category/optimization.tsx`) managing 6 feature flags:

| Flag | Risk | Description |
|------|------|-------------|
| `enableRetry` | ğŸŸ¢ Low | Smart retry with intelligent backoff for failed critical actions |
| `enablePerformanceMonitor` | ğŸŸ¢ Low | Track operation timings, generate reports, detect slow operations |
| `enableVisualization` | ğŸŸ¢ Low | Expose IPC endpoints for performance dashboards |
| `enableOCR` | ğŸŸ¡ Medium | OCR text recognition via Tesseract.js |
| `enableMultiModel` | ï¿½ Medium | Intelligent model selection, failover, performance-based routing |
| `enableWorkflow` | ğŸŸ¡ Medium | Record, replay, and manage automated task workflows |

- Low-risk flags **enabled by default**; medium-risk flags require an `AlertDialog` confirmation before enabling.
- Persisted to `localStorage` (key: `ui-tars-optimization-flags`).
- Backend config class in `apps/ui-tars/src/main/services/optimizationConfig.ts` with `enableAll()`, `disableAll()`, `enableSafe()` helpers.

### ğŸ› 5. Bug Fixes

<details>
<summary><b>Bug #1 â€” <code>handleRegenerate</code> race condition & duplicate messages</b></summary>

- **File:** `apps/ui-tars/src/renderer/src/pages/chat/index.tsx` (lines 384â€“441)
- **Problem:** The original implementation called `setMessages()` (async) to remove the last assistant message, then immediately called `doSend()`. Because `doSend` captured `messages` from its closure (stale value), the API received the old conversation history including the deleted reply, and a duplicate user message was appended.
- **Fix:** Rewrote `handleRegenerate` as a self-contained async function that: â‘  synchronously computes `keptMessages = messages.slice(0, lastUserIdx + 1)`, â‘¡ sets state with the truncated array, â‘¢ calls the API directly with `keptMessages` â€” no closure staleness.

</details>

<details>
<summary><b>Bug #2 â€” Orphaned <code>localStorage</code> data on session deletion</b></summary>

- **File:** `apps/ui-tars/src/renderer/src/components/SideBar/app-sidebar.tsx` (lines 151â€“164)
- **Problem:** When a session was deleted from the sidebar, `sessionManager.deleteSession()` cleaned IndexedDB, but the corresponding `localStorage` entry (`ui-tars-chat-<sessionId>`) and the `ui-tars-chat-current-session` marker were never removed, leading to unbounded data accumulation.
- **Fix:** Added `localStorage.removeItem()` calls for both keys inside `onSessionDelete`.

</details>

<details>
<summary><b>Bug #3 â€” <code>localStorage</code> quota exceeded by <code>imageBase64</code></b></summary>

- **File:** `apps/ui-tars/src/renderer/src/pages/chat/index.tsx` (lines 66â€“72)
- **Problem:** `ChatMessage` objects containing `imageBase64` (hundreds of KB to several MB per image) were serialized directly into `localStorage`, easily exceeding the 5â€“10 MB browser quota and silently failing.
- **Fix:** `saveSessionMessages()` now strips the `imageBase64` field via destructuring before `JSON.stringify`: `msgs.map(({ imageBase64, ...rest }) => rest)`.

</details>

### ğŸ—ï¸ 6. Infrastructure & Documentation

| Category | Files | Description |
|----------|-------|-------------|
| **Build scripts** | `scripts/build/build-quick.bat`, `scripts/build/build-windows.bat` | Quick build (skip type checks) and full Windows packaging with environment validation |
| **Dev scripts** | `scripts/dev/start-secure.bat` | Secure startup with security audit, Node.js/pnpm checks, and `.env.local` validation |
| **Test scripts** | `scripts/test/test-integration.bat` | Integration test runner with TypeScript compilation |
| **Release scripts** | `scripts/release/release-*.sh` | Beta and release package publishing (moved from root) |
| **Security** | `docs/build-and-security/SECURITY_SETUP.zh-CN.md`, `docs/build-and-security/README.SECURITY.md` | Security configuration guides |
| **Documentation** | `docs/README.md`, `docs/development/`, `docs/optimization/`, `docs/testing/`, `docs/build-and-security/`, `docs/community/` | All `.md` files reorganized into categorized subfolders with an index |

> ğŸ“‚ For week-by-week implementation records, see the [docs/development/](./docs/development/) folder.

---

## ğŸ™ Acknowledgments

We would like to express our sincere gratitude to:

| | Credit |
|---|---|
| ğŸ¢ **ByteDance & Seed Team** | Creating and open-sourcing [UI-TARS-desktop](https://github.com/bytedance/UI-TARS-desktop) under Apache 2.0 |
| ğŸ§  **UI-TARS Model Team** | The groundbreaking [vision-language model](https://github.com/bytedance/UI-TARS) powering GUI automation |
| ğŸ‘¥ **Original Contributors** | Building the Agent TARS ecosystem â€” CLI, Web UI, SDK, desktop app |
| ğŸŒ **Open-Source Community** | Feedback, bug reports, and feature suggestions |

> *This fork would not exist without the excellent foundation provided by ByteDance's engineering team. We are deeply grateful for their contributions to the AI agent community.*

---

## ğŸ¤ Contributing

See [CONTRIBUTING.md](./docs/community/CONTRIBUTING.md).

## ğŸ“„ License

This project is licensed under the **Apache License 2.0**.

## ğŸ“ Citation

If you find the original paper and code useful in your research, please give a â­ to the [original project](https://github.com/bytedance/UI-TARS-desktop) and cite the original authors' work:

<details>
<summary><b>BibTeX</b></summary>

```BibTeX
@article{qin2025ui,
  title={UI-TARS: Pioneering Automated GUI Interaction with Native Agents},
  author={Qin, Yujia and Ye, Yining and Fang, Junjie and Wang, Haoming and Liang, Shihao and Tian, Shizuo and Zhang, Junda and Li, Jiahao and Li, Yunxin and Huang, Shijue and others},
  journal={arXiv preprint arXiv:2501.12326},
  year={2025}
}
```

</details>

---

<p align="center">
  <img src="https://capsule-render.vercel.app/api?type=waving&color=gradient&customColorList=6,11,20&height=120&section=footer" width="100%" />
</p>

<p align="center">
  <sub>Built with â¤ï¸ on top of <a href="https://github.com/bytedance/UI-TARS-desktop">ByteDance's UI-TARS-desktop</a></sub>
</p>
